(function() {
  var $, $$, $_, Achieve, Assert, Attempt, Believe, Clause, Goal, Message, OnAssert, OnAttempt, OnRetract, Propose, Retract, Subject, Term, Trigger, Variable, Verb, _$, _I, __, _impasse, _start, clone, match, terms, unit_, variable_;

  ({unit_, __, clone} = require('./common'));

  $$ = unit_(module);

  
  //The Main Classes

  Variable = class Variable {
    constructor(name, pattern) {
      this.name = name;
      this.pattern = pattern;
    }

  };

  exports.Variable = Variable;

  exports.$ = $ = exports.variable_ = variable_ = function(n, p) {
    return new Variable(`$${n}`, p);
  };

  exports.match = match = function(p, v, b = true) {
    if (!b) {
      return false;
    }
    if (p === __ || p === v) {
      return b;
    }
    if (typeof p === 'function' && p(v)) {
      return b;
    }
    if (p instanceof RegExp && p.test(v)) {
      return b;
    }
    if (p instanceof Variable) {
      if (p.pattern && !match(p.pattern, v)) {
        return false;
      }
      if ('object' === typeof b) {
        b[p.name] = v;
        return b;
      }
      return {
        [`${p.name}`]: v
      };
    }
    return false;
  };

  Term = class Term {
    constructor(name) {
      this.name = name;
    }

    toString() {
      return this.name;
    }

    toJSON() {
      return {
        type: this.constructor.name,
        name: this.name
      };
    }

  };

  exports.Term = Term;

  Subject = class Subject extends Term {
    constructor(n) {
      super(n);
    }

  };

  Verb = class Verb extends Term {
    constructor(n) {
      super(n);
    }

  };

  /*
  Object to Term
  */
  exports.terms = terms = {};

  exports.$_ = $_ = function(arg, type) {
    var char, e, i, len, n, obj, term;
    switch (typeof arg) {
      case 'string':
        term = terms[arg];
        if (!term) {
          if (!type) {
            char = arg[0];
            if (char === char.toUpperCase()) {
              type = Subject;
            } else {
              type = Verb;
            }
          } else if (typeof type === 'string') {
            type = eval(`${type} = class ${type} extends Term {};`);
          }
          terms[arg] = term = new type(arg);
        }
        return term;
      case 'object':
        obj = {};
        for (i = 0, len = arg.length; i < len; i++) {
          e = arg[i];
          n = '_' + e;
          obj[n] = $_(e);
        }
        return obj;
    }
  };

  exports._I = _I = $_('I');

  exports._start = _start = $_('start');

  exports._impasse = _impasse = $_('impasse');

  /*
  Object to String
  */
  exports._$ = _$ = function(obj) {
    if (obj === __) {
      return '__';
    }
    switch (typeof obj) {
      case 'symbol':
        return Symbol.keyFor(obj);
      case 'string':
        return obj;
      default:
        if (obj instanceof Clause) {
          return `(${obj})`;
        } else {
          return String(obj);
        }
    }
  };

  Clause = class Clause {
    constructor(subj, verb, obj1, xtra) {
      var k, v;
      this.subj = subj;
      this.verb = verb;
      this.obj = obj1;
      for (k in xtra) {
        v = xtra[k];
        this[k] = v;
      }
    }

    toString() {
      var k, ref, v, xtra;
      xtra = [];
      ref = this;
      for (k in ref) {
        v = ref[k];
        if (k !== 'subj' && k !== 'verb' && k !== 'obj') {
          xtra.push(`${k}: ${v}`);
        }
      }
      return [this.constructor.name, _$(this.subj), _$(this.verb), _$(this.obj), xtra].join(' ');
    }

    toJSON() {
      return {
        type: this.constructor.name,
        subj: this.subj && JSON.stringify(this.subj),
        verb: this.verb && JSON.stringify(this.verb),
        obj: this.obj && JSON.stringify(this.obj)
      };
    }

    match(t, s, v, o, x) {
      return this instanceof t && match(s, this.subj, match(v, this.verb, match(o, this.obj)));
    }

  };

  exports.Clause = Clause;

  exports.clause_ = function(t, s, v, o, x) {
    return new t(s, v, o, x);
  };

  
  Believe = class Believe extends Clause {
    constructor(s, v, o, x) {
      super(s, v, o, x);
    }

  };

  exports.Believe = Believe;

  exports.believe_ = function(s, v, o, x) {
    return new Believe(s, v, o, x);
  };

  
  Goal = class Goal extends Clause {
    constructor(s, v, o, x) {
      super(s, v, o, x);
    }

  };

  exports.Goal = Goal;

  
  Achieve = class Achieve extends Goal {
    constructor(s, v, o, x) {
      super(s, v, o, x);
    }

  };

  exports.Achieve = Achieve;

  Message = class Message {
    constructor(data1, from1, to) {
      this.data = data1;
      this.from = from1;
      this.to = to;
    }

    toString() {
      return [this.constructor.name, this.data].join(' ');
    }

    toJSON() {
      return {
        type: this.constructor.name,
        data: this.data.toJSON(),
        to: this.to && this.to.toJSON(),
        from: this.from && this.from.toJSON()
      };
    }

    match(f, t, s, v, o, x) {
      return this instanceof f && this.data.match(t, s, v, o, x);
    }

  };

  exports.Message = Message;

  Propose = class Propose extends Message {
    constructor(data, from) {
      super(data, from);
    }

  };

  exports.Propose = Propose;

  exports.propose_ = function(t, s, v, o, x) {
    return new Propose(new t(s, v, o, x));
  };

  Attempt = class Attempt extends Message {
    constructor(data, from) {
      super(data, from);
    }

  };

  exports.Attempt = Attempt;

  exports.attempt_ = function(t, s, v, o, x) {
    return new Attempt(new t(s, v, o, x));
  };

  Assert = class Assert extends Message {
    constructor(data, from) {
      super(data, from);
    }

  };

  exports.Assert = Assert;

  exports.assert_ = function(t, s, v, o, x) {
    return new Assert(new t(s, v, o, x));
  };

  Retract = class Retract extends Message {
    constructor(data, from) {
      super(data, from);
    }

  };

  exports.Retract = Retract;

  exports.retract_ = function(t, s, v, o, x) {
    return new Retract(new t(s, v, o, x));
  };

  
  Trigger = class Trigger {
    constructor(flavor, type1, subj, verb, obj1, xtra1) {
      this.flavor = flavor;
      this.type = type1;
      this.subj = subj;
      this.verb = verb;
      this.obj = obj1;
      this.xtra = xtra1;
    }

    match(m) {
      return m.match(this.flavor, this.type, this.subj, this.verb, this.obj, this.xtra);
    }

  };

  exports.Trigger = Trigger;

  
  OnAssert = class OnAssert extends Trigger {
    constructor(t, s, v, o, x) {
      super(Assert, t, s, v, o, x);
    }

  };

  exports.OnAssert = OnAssert;

  exports.onAssert = function(t, s, v, o, x) {
    return new OnAssert(t, s, v, o, x);
  };

  
  OnRetract = class OnRetract extends Trigger {
    constructor(t, s, v, o, x) {
      super(Retract, t, s, v, o, x);
    }

  };

  exports.OnRetract = OnRetract;

  exports.onRetract = function(t, s, v, o, x) {
    return new OnRetract(t, s, v, o, x);
  };

  OnAttempt = class OnAttempt extends Trigger {
    constructor(t, s, v, o, x) {
      super(Attempt, t, s, v, o, x || Achieve);
    }

  };

  exports.OnAttempt = OnAttempt;

  exports.onAttempt = function(t, s, v, o, x) {
    return new OnAttempt(t, s, v, o, x);
  };

}).call(this);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibWFpbi5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsRUFBQSxPQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUE7O0VBQUEsQ0FBQSxDQUFDLEtBQUQsRUFBUSxFQUFSLEVBQVksS0FBWixDQUFBLEdBQXFCLE9BQUEsQ0FBUSxVQUFSLENBQXJCOztFQUNBLEVBQUEsR0FBSyxLQUFBLENBQU0sTUFBTixFQURMOzs7OztFQU1NLFdBQU4sTUFBQSxTQUFBO0lBQ0UsV0FBYSxLQUFBLFNBQUEsQ0FBQTtNQUFDLElBQUMsQ0FBQTtNQUFNLElBQUMsQ0FBQTtJQUFUOztFQURmOztFQUdBLE9BQU8sQ0FBQyxRQUFSLEdBQW1COztFQUNuQixPQUFPLENBQUMsQ0FBUixHQUFZLENBQUEsR0FBSSxPQUFPLENBQUMsU0FBUixHQUFvQixTQUFBLEdBQVksUUFBQSxDQUFDLENBQUQsRUFBSSxDQUFKLENBQUE7V0FBVSxJQUFJLFFBQUosQ0FBYSxDQUFBLENBQUEsQ0FBQSxDQUFJLENBQUosQ0FBQSxDQUFiLEVBQXNCLENBQXRCO0VBQVY7O0VBRWhELE9BQU8sQ0FBQyxLQUFSLEdBQWdCLEtBQUEsR0FBUSxRQUFBLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxJQUFJLElBQVgsQ0FBQTtJQUN0QixJQUFHLENBQUMsQ0FBSjtBQUFXLGFBQU8sTUFBbEI7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QUosQ0FBYyxDQUFkLEVBQWlCLENBQWpCLEVBQW9CLENBQXBCLEVBQXVCLENBQXZCLEVBQTBCLENBQTFCO0VBQTFCOztFQUVkLFlBQU4sTUFBQSxVQUFBLFFBQXdCLFFBQXhCO0lBQ0UsV0FBYSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsRUFBYSxDQUFiLENBQUE7V0FDWCxDQUFNLE9BQU4sRUFBZSxDQUFmLEVBQWtCLENBQWxCLEVBQXFCLENBQXJCLEVBQXdCLENBQXhCLEVBQTJCLENBQUEsSUFBSyxPQUFoQztJQURXOztFQURmOztFQUdBLE9BQU8sQ0FBQyxTQUFSLEdBQW9COztFQUNwQixPQUFPLENBQUMsU0FBUixHQUFvQixRQUFBLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixFQUFhLENBQWIsQ0FBQTtBQUFtQixXQUFPLElBQUksU0FBSixDQUFjLENBQWQsRUFBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsQ0FBdkIsRUFBMEIsQ0FBMUI7RUFBMUI7QUE1TXBCIiwic291cmNlc0NvbnRlbnQiOlsie3VuaXRfLCBfXywgY2xvbmV9ID0gcmVxdWlyZSAnLi9jb21tb24nXG4kJCA9IHVuaXRfIG1vZHVsZVxuI1xuI1RoZSBNYWluIENsYXNzZXNcbiNcblxuY2xhc3MgVmFyaWFibGVcbiAgY29uc3RydWN0b3I6IChAbmFtZSwgQHBhdHRlcm4pIC0+XG5cbmV4cG9ydHMuVmFyaWFibGUgPSBWYXJpYWJsZVxuZXhwb3J0cy4kID0gJCA9IGV4cG9ydHMudmFyaWFibGVfID0gdmFyaWFibGVfID0gKG4sIHApIC0+IG5ldyBWYXJpYWJsZShcIiQje259XCIsIHApXG5cbmV4cG9ydHMubWF0Y2ggPSBtYXRjaCA9IChwLCB2LCBiID0gdHJ1ZSkgLT5cbiAgaWYgIWIgdGhlbiByZXR1cm4gZmFsc2VcbiAgaWYgcCA9PSBfXyB8fCBwID09IHYgdGhlbiByZXR1cm4gYlxuICBpZiB0eXBlb2YgcCA9PSAnZnVuY3Rpb24nICYmIHAodikgdGhlbiByZXR1cm4gYlxuICBpZiAocCBpbnN0YW5jZW9mIFJlZ0V4cCAmJiBwLnRlc3QodikpIHRoZW4gcmV0dXJuIGJcbiAgaWYgcCBpbnN0YW5jZW9mIFZhcmlhYmxlXG4gICAgaWYgcC5wYXR0ZXJuICYmICFtYXRjaChwLnBhdHRlcm4sIHYpIHRoZW4gcmV0dXJuIGZhbHNlXG4gICAgaWYgJ29iamVjdCcgPT0gdHlwZW9mIGJcbiAgICAgIGJbcC5uYW1lXSA9IHZcbiAgICAgIHJldHVybiBiXG4gICAgcmV0dXJuIHtcIiN7cC5uYW1lfVwiOiB2fVxuICByZXR1cm4gZmFsc2VcblxuY2xhc3MgVGVybVxuICBjb25zdHJ1Y3RvcjogKEBuYW1lKSAtPlxuICB0b1N0cmluZzogLT4gQG5hbWVcbiAgdG9KU09OOiAtPiB7IHR5cGU6IEBjb25zdHJ1Y3Rvci5uYW1lLCBuYW1lOiBAbmFtZSB9XG5leHBvcnRzLlRlcm0gPSBUZXJtXG5cbmNsYXNzIFN1YmplY3QgZXh0ZW5kcyBUZXJtXG4gIGNvbnN0cnVjdG9yOiAobikgLT4gc3VwZXIgblxuXG5jbGFzcyBWZXJiIGV4dGVuZHMgVGVybVxuICBjb25zdHJ1Y3RvcjogKG4pIC0+IHN1cGVyIG5cblxuIyMjXG5PYmplY3QgdG8gVGVybVxuIyMjXG5leHBvcnRzLnRlcm1zID0gdGVybXMgPSB7fVxuZXhwb3J0cy4kXyA9ICRfID0gKGFyZywgdHlwZSkgLT5cbiAgc3dpdGNoIHR5cGVvZiBhcmdcbiAgICB3aGVuICdzdHJpbmcnXG4gICAgICB0ZXJtID0gdGVybXNbYXJnXVxuICAgICAgaWYgIXRlcm1cbiAgICAgICAgaWYgIXR5cGVcbiAgICAgICAgICBjaGFyID0gYXJnWzBdXG4gICAgICAgICAgaWYgY2hhciA9PSBjaGFyLnRvVXBwZXJDYXNlKCkgdGhlbiB0eXBlID0gU3ViamVjdFxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHR5cGUgPSBWZXJiXG4gICAgICAgIGVsc2UgaWYgdHlwZW9mIHR5cGUgaXMgJ3N0cmluZydcbiAgICAgICAgICB0eXBlID0gZXZhbCBcIiN7dHlwZX0gPSBjbGFzcyAje3R5cGV9IGV4dGVuZHMgVGVybSB7fTtcIlxuICAgICAgICB0ZXJtc1thcmddID0gdGVybSA9IG5ldyB0eXBlIGFyZ1xuICAgICAgcmV0dXJuIHRlcm1cbiAgICB3aGVuICdvYmplY3QnXG4gICAgICBvYmogPSB7fVxuICAgICAgZm9yIGUgaW4gYXJnXG4gICAgICAgIG4gPSAnXycgKyBlXG4gICAgICAgIG9ialtuXSA9ICRfIGVcbiAgICAgIHJldHVybiBvYmpcblxuZXhwb3J0cy5fSSA9IF9JID0gJF8gJ0knXG5leHBvcnRzLl9zdGFydCA9IF9zdGFydCA9ICRfICdzdGFydCdcbmV4cG9ydHMuX2ltcGFzc2UgPSBfaW1wYXNzZSA9ICRfICdpbXBhc3NlJ1xuIyMjXG5PYmplY3QgdG8gU3RyaW5nXG4jIyNcbmV4cG9ydHMuXyQgPSBfJCA9IChvYmopIC0+XG4gIGlmIG9iaiA9PSBfXyB0aGVuIHJldHVybiAnX18nXG4gIHN3aXRjaCB0eXBlb2Ygb2JqXG4gICAgd2hlbiAnc3ltYm9sJ1xuICAgICAgcmV0dXJuIFN5bWJvbC5rZXlGb3Iob2JqKVxuICAgIHdoZW4gJ3N0cmluZydcbiAgICAgIHJldHVybiBvYmpcbiAgICBlbHNlXG4gICAgICBpZiBvYmogaW5zdGFuY2VvZiBDbGF1c2VcbiAgICAgICAgcmV0dXJuIFwiKCN7b2JqfSlcIlxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gU3RyaW5nKG9iailcblxuY2xhc3MgQ2xhdXNlXG4gIGNvbnN0cnVjdG9yOiAoQHN1YmosIEB2ZXJiLCBAb2JqLCB4dHJhKSAtPlxuICAgIGZvciBrLCB2IG9mIHh0cmFcbiAgICAgIHRoaXNba10gPSB2XG5cbiAgdG9TdHJpbmc6IC0+XG4gICAgeHRyYSA9IFtdXG4gICAgZm9yIGssIHYgb2YgdGhpc1xuICAgICAgaWYgayAhPSAnc3ViaicgJiYgayE9ICd2ZXJiJyAmJiBrICE9ICdvYmonXG4gICAgICAgIHh0cmEucHVzaCBcIiN7a306ICN7dn1cIlxuXG4gICAgW1xuICAgICAgQGNvbnN0cnVjdG9yLm5hbWVcbiAgICAgIF8kKEBzdWJqKVxuICAgICAgXyQoQHZlcmIpXG4gICAgICBfJChAb2JqKVxuICAgICAgeHRyYVxuICAgIF0uam9pbignICcpXG5cbiAgdG9KU09OOiAtPlxuICAgIHR5cGU6IEBjb25zdHJ1Y3Rvci5uYW1lXG4gICAgc3ViajogQHN1YmogJiYgSlNPTi5zdHJpbmdpZnkoQHN1YmopXG4gICAgdmVyYjogQHZlcmIgJiYgSlNPTi5zdHJpbmdpZnkoQHZlcmIpXG4gICAgb2JqOiAgQG9iaiAmJiBKU09OLnN0cmluZ2lmeShAb2JqKVxuXG4gIG1hdGNoOiAodCwgcywgdiwgbywgeCkgLT5cbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHQgJiYgbWF0Y2gocywgQHN1YmosIG1hdGNoKHYsIEB2ZXJiLCBtYXRjaChvLCBAb2JqKSApIClcblxuZXhwb3J0cy5DbGF1c2UgPSBDbGF1c2VcbmV4cG9ydHMuY2xhdXNlXyA9ICh0LCBzLCB2LCBvLCB4KSAtPiBuZXcgdChzLCB2LCBvLCB4KVxuI1xuY2xhc3MgQmVsaWV2ZSBleHRlbmRzIENsYXVzZVxuICBjb25zdHJ1Y3RvcjogKHMsIHYsIG8sIHgpIC0+XG4gICAgc3VwZXIocywgdiwgbywgeClcblxuZXhwb3J0cy5CZWxpZXZlID0gQmVsaWV2ZVxuZXhwb3J0cy5iZWxpZXZlXyA9IChzLCB2LCBvLCB4KSAtPiBuZXcgQmVsaWV2ZSBzLCB2LCBvLCB4XG4jXG5jbGFzcyBHb2FsIGV4dGVuZHMgQ2xhdXNlXG4gIGNvbnN0cnVjdG9yOiAocywgdiwgbywgeCkgLT5cbiAgICBzdXBlcihzLCB2LCBvLCB4KVxuZXhwb3J0cy5Hb2FsID0gR29hbFxuI1xuY2xhc3MgQWNoaWV2ZSBleHRlbmRzIEdvYWxcbiAgY29uc3RydWN0b3I6IChzLCB2LCBvLCB4KSAtPlxuICAgIHN1cGVyKHMsIHYsIG8sIHgpXG5cbmV4cG9ydHMuQWNoaWV2ZSA9IEFjaGlldmVcblxuY2xhc3MgTWVzc2FnZVxuICBjb25zdHJ1Y3RvcjogKEBkYXRhLCBAZnJvbSwgQHRvKSAtPlxuXG4gIHRvU3RyaW5nOiAtPlxuICAgIFtcbiAgICAgIEBjb25zdHJ1Y3Rvci5uYW1lLFxuICAgICAgQGRhdGFcbiAgICBdLmpvaW4oJyAnKVxuXG4gIHRvSlNPTjogLT5cbiAgICB7XG4gICAgICB0eXBlOiBAY29uc3RydWN0b3IubmFtZSxcbiAgICAgIGRhdGE6IEBkYXRhLnRvSlNPTigpLFxuICAgICAgdG86IEB0byAmJiBAdG8udG9KU09OKCksXG4gICAgICBmcm9tOiBAZnJvbSAmJiBAZnJvbS50b0pTT04oKVxuICAgIH1cblxuICBtYXRjaDogKGYsIHQsIHMsIHYsIG8sIHgpIC0+XG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBmICYmIEBkYXRhLm1hdGNoKHQsIHMsIHYsIG8sIHgpXG5cbmV4cG9ydHMuTWVzc2FnZSA9IE1lc3NhZ2VcblxuY2xhc3MgUHJvcG9zZSBleHRlbmRzIE1lc3NhZ2VcbiAgY29uc3RydWN0b3I6IChkYXRhLCBmcm9tKSAtPlxuICAgIHN1cGVyKGRhdGEsIGZyb20pXG5cbmV4cG9ydHMuUHJvcG9zZSA9IFByb3Bvc2VcbmV4cG9ydHMucHJvcG9zZV8gPSAodCwgcywgdiwgbywgeCkgLT4gbmV3IFByb3Bvc2UobmV3IHQocywgdiwgbywgeCkpXG5cbmNsYXNzIEF0dGVtcHQgZXh0ZW5kcyBNZXNzYWdlXG4gIGNvbnN0cnVjdG9yOiAoZGF0YSwgZnJvbSkgLT5cbiAgICBzdXBlcihkYXRhLCBmcm9tKVxuXG5leHBvcnRzLkF0dGVtcHQgPSBBdHRlbXB0XG5leHBvcnRzLmF0dGVtcHRfID0gKHQsIHMsIHYsIG8sIHgpIC0+IG5ldyBBdHRlbXB0KG5ldyB0KHMsIHYsIG8sIHgpKVxuXG5jbGFzcyBBc3NlcnQgZXh0ZW5kcyBNZXNzYWdlXG4gIGNvbnN0cnVjdG9yOiAoZGF0YSwgZnJvbSkgLT5cbiAgICBzdXBlcihkYXRhLCBmcm9tKVxuXG5leHBvcnRzLkFzc2VydCA9IEFzc2VydFxuZXhwb3J0cy5hc3NlcnRfID0gKHQsIHMsIHYsIG8sIHgpIC0+IG5ldyBBc3NlcnQobmV3IHQocywgdiwgbywgeCkpXG5cbmNsYXNzIFJldHJhY3QgZXh0ZW5kcyBNZXNzYWdlXG4gIGNvbnN0cnVjdG9yOiAoZGF0YSwgZnJvbSkgLT5cbiAgICBzdXBlcihkYXRhLCBmcm9tKVxuXG5leHBvcnRzLlJldHJhY3QgPSBSZXRyYWN0XG5leHBvcnRzLnJldHJhY3RfID0gKHQsIHMsIHYsIG8sIHgpIC0+IG5ldyBSZXRyYWN0KG5ldyB0KHMsIHYsIG8sIHgpKVxuI1xuY2xhc3MgVHJpZ2dlclxuICBjb25zdHJ1Y3RvcjogKEBmbGF2b3IsIEB0eXBlLCBAc3ViaiwgQHZlcmIsIEBvYmosIEB4dHJhKSAtPlxuXG4gIG1hdGNoOiAobSkgLT5cbiAgICBtLm1hdGNoKEBmbGF2b3IsIEB0eXBlLCBAc3ViaiwgQHZlcmIsIEBvYmosIEB4dHJhKVxuXG5leHBvcnRzLlRyaWdnZXIgPSBUcmlnZ2VyXG4jXG5jbGFzcyBPbkFzc2VydCBleHRlbmRzIFRyaWdnZXJcbiAgY29uc3RydWN0b3I6ICh0LCBzLCB2LCBvLCB4KSAtPlxuICAgIHN1cGVyKEFzc2VydCwgdCwgcywgdiwgbywgeClcbmV4cG9ydHMuT25Bc3NlcnQgPSBPbkFzc2VydFxuZXhwb3J0cy5vbkFzc2VydCA9ICh0LCBzLCB2LCBvLCB4KSAtPiByZXR1cm4gbmV3IE9uQXNzZXJ0KHQsIHMsIHYsIG8sIHgpXG4jXG5jbGFzcyBPblJldHJhY3QgZXh0ZW5kcyBUcmlnZ2VyXG4gIGNvbnN0cnVjdG9yOiAodCwgcywgdiwgbywgeCkgLT5cbiAgICBzdXBlcihSZXRyYWN0LCB0LCBzLCB2LCBvLCB4KVxuZXhwb3J0cy5PblJldHJhY3QgPSBPblJldHJhY3RcbmV4cG9ydHMub25SZXRyYWN0ID0gKHQsIHMsIHYsIG8sIHgpIC0+IHJldHVybiBuZXcgT25SZXRyYWN0KHQsIHMsIHYsIG8sIHgpXG5cbmNsYXNzIE9uQXR0ZW1wdCBleHRlbmRzIFRyaWdnZXJcbiAgY29uc3RydWN0b3I6ICh0LCBzLCB2LCBvLCB4KSAtPlxuICAgIHN1cGVyKEF0dGVtcHQsIHQsIHMsIHYsIG8sIHggfHwgQWNoaWV2ZSlcbmV4cG9ydHMuT25BdHRlbXB0ID0gT25BdHRlbXB0XG5leHBvcnRzLm9uQXR0ZW1wdCA9ICh0LCBzLCB2LCBvLCB4KSAtPiByZXR1cm4gbmV3IE9uQXR0ZW1wdCh0LCBzLCB2LCBvLCB4KVxuIl19
