(function() {
  var $$, compile, data, evaluate, parse, transform, unit_;

  ({unit_, parse, transform, compile, evaluate} = require('./common'));

  $$ = unit_(module);

  data = "def (hello)\n\n  def (say $t)\n    | $t\n\n  say \"Hello World\"\n  say \"Goodbye World\"\n\nhello";

  describe('MiaScript', function() {
    $$.h2('Data');
    $$._(data);
    describe('@parse', function() {
      return it('should work', function() {
        $$.h2('Parse');
        return $$._(JSON.stringify(parse(data), null, 2));
      });
    });
    describe('@transform', function() {
      return it('should work', function() {
        $$.h2('Transform');
        return $$._(JSON.stringify(transform(data), null, 2));
      });
    });
    describe('@compile', function() {
      return it('should work', function() {
        var code;
        $$.h2('Code');
        code = compile(data);
        return $$._(code);
      });
    });
    return describe('@evaluate', function() {
      return it('should work', function() {
        $$.h2('Evaluation');
        return evaluate(data);
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlhc2NyaXB0LmpzIiwic291cmNlcyI6WyJtaWFzY3JpcHQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBQSxFQUFBLEVBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxRQUFBLEVBQUEsS0FBQSxFQUFBLFNBQUEsRUFBQTs7RUFBQSxDQUFBLENBQUMsS0FBRCxFQUFRLEtBQVIsRUFBZSxTQUFmLEVBQTBCLE9BQTFCLEVBQW1DLFFBQW5DLENBQUEsR0FBK0MsT0FBQSxDQUFRLFVBQVIsQ0FBL0M7O0VBQ0EsRUFBQSxHQUFLLEtBQUEsQ0FBTSxNQUFOOztFQUVMLElBQUEsR0FDQTs7RUFZQSxRQUFBLENBQVMsV0FBVCxFQUFzQixRQUFBLENBQUEsQ0FBQTtJQUNwQixFQUFFLENBQUMsRUFBSCxDQUFNLE1BQU47SUFDQSxFQUFFLENBQUMsQ0FBSCxDQUFLLElBQUw7SUFFQSxRQUFBLENBQVMsUUFBVCxFQUFtQixRQUFBLENBQUEsQ0FBQTthQUNqQixFQUFBLENBQUcsYUFBSCxFQUFrQixRQUFBLENBQUEsQ0FBQTtRQUNoQixFQUFFLENBQUMsRUFBSCxDQUFNLE9BQU47ZUFDQSxFQUFFLENBQUMsQ0FBSCxDQUFLLElBQUksQ0FBQyxTQUFMLENBQWdCLEtBQUEsQ0FBTSxJQUFOLENBQWhCLEVBQTZCLElBQTdCLEVBQW1DLENBQW5DLENBQUw7TUFGZ0IsQ0FBbEI7SUFEaUIsQ0FBbkI7SUFLQSxRQUFBLENBQVMsWUFBVCxFQUF1QixRQUFBLENBQUEsQ0FBQTthQUNyQixFQUFBLENBQUcsYUFBSCxFQUFrQixRQUFBLENBQUEsQ0FBQTtRQUNoQixFQUFFLENBQUMsRUFBSCxDQUFNLFdBQU47ZUFDQSxFQUFFLENBQUMsQ0FBSCxDQUFLLElBQUksQ0FBQyxTQUFMLENBQWdCLFNBQUEsQ0FBVSxJQUFWLENBQWhCLEVBQWlDLElBQWpDLEVBQXVDLENBQXZDLENBQUw7TUFGZ0IsQ0FBbEI7SUFEcUIsQ0FBdkI7SUFLQSxRQUFBLENBQVMsVUFBVCxFQUFxQixRQUFBLENBQUEsQ0FBQTthQUNuQixFQUFBLENBQUcsYUFBSCxFQUFrQixRQUFBLENBQUEsQ0FBQTtBQUNoQixZQUFBO1FBQUEsRUFBRSxDQUFDLEVBQUgsQ0FBTSxNQUFOO1FBQ0EsSUFBQSxHQUFPLE9BQUEsQ0FBUSxJQUFSO2VBQ1AsRUFBRSxDQUFDLENBQUgsQ0FBSyxJQUFMO01BSGdCLENBQWxCO0lBRG1CLENBQXJCO1dBTUEsUUFBQSxDQUFTLFdBQVQsRUFBc0IsUUFBQSxDQUFBLENBQUE7YUFDcEIsRUFBQSxDQUFHLGFBQUgsRUFBa0IsUUFBQSxDQUFBLENBQUE7UUFDaEIsRUFBRSxDQUFDLEVBQUgsQ0FBTSxZQUFOO2VBQ0EsUUFBQSxDQUFTLElBQVQ7TUFGZ0IsQ0FBbEI7SUFEb0IsQ0FBdEI7RUFwQm9CLENBQXRCO0FBaEJBIiwic291cmNlc0NvbnRlbnQiOlsie3VuaXRfLCBwYXJzZSwgdHJhbnNmb3JtLCBjb21waWxlLCBldmFsdWF0ZX0gPSByZXF1aXJlKCcuL2NvbW1vbicpXG4kJCA9IHVuaXRfIG1vZHVsZVxuXG5kYXRhID1cblwiXCJcIlxuZGVmIChoZWxsbylcblxuICBkZWYgKHNheSAkdClcbiAgICB8ICR0XG5cbiAgc2F5IFwiSGVsbG8gV29ybGRcIlxuICBzYXkgXCJHb29kYnllIFdvcmxkXCJcblxuaGVsbG9cblwiXCJcIlxuXG5kZXNjcmliZSAnTWlhU2NyaXB0JywgLT5cbiAgJCQuaDIgJ0RhdGEnXG4gICQkLl8gZGF0YVxuXG4gIGRlc2NyaWJlICdAcGFyc2UnLCAtPlxuICAgIGl0ICdzaG91bGQgd29yaycsIC0+XG4gICAgICAkJC5oMiAnUGFyc2UnXG4gICAgICAkJC5fIEpTT04uc3RyaW5naWZ5IChwYXJzZSBkYXRhKSwgbnVsbCwgMlxuXG4gIGRlc2NyaWJlICdAdHJhbnNmb3JtJywgLT5cbiAgICBpdCAnc2hvdWxkIHdvcmsnLCAtPlxuICAgICAgJCQuaDIgJ1RyYW5zZm9ybSdcbiAgICAgICQkLl8gSlNPTi5zdHJpbmdpZnkgKHRyYW5zZm9ybSBkYXRhKSwgbnVsbCwgMlxuXG4gIGRlc2NyaWJlICdAY29tcGlsZScsIC0+XG4gICAgaXQgJ3Nob3VsZCB3b3JrJywgLT5cbiAgICAgICQkLmgyICdDb2RlJ1xuICAgICAgY29kZSA9IGNvbXBpbGUgZGF0YVxuICAgICAgJCQuXyBjb2RlXG5cbiAgZGVzY3JpYmUgJ0BldmFsdWF0ZScsIC0+XG4gICAgaXQgJ3Nob3VsZCB3b3JrJywgLT5cbiAgICAgICQkLmgyICdFdmFsdWF0aW9uJ1xuICAgICAgZXZhbHVhdGUgZGF0YVxuIl19
