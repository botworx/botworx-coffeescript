(function() {
  var $$, $_, Achieve, Assert, Attempt, Believe, Context, Message, Method, OnAssert, OnAttempt, OnRetract, Policy, Retract, Rule, Runner, Term, Trigger, __, _hello, _say, assert, module_, runner_, runtime, t1, unit_;

  assert = require('chai').assert;

  ({$$, unit_, runtime} = require('./common'));

  $$ = unit_(module);

  ({Term, Context, Assert, Retract, Believe, Attempt, Achieve} = runtime);

  ({$_, __, runner_, module_, Message, Policy, Rule, Trigger, OnAssert, OnRetract, OnAttempt, Runner, Method} = runtime);

  ({_hello, _say} = $_(['hello', 'say']));

  t1 = module_(function() {
    this.def(new OnAttempt(Achieve, null, _say, __), function() {
      var $t;
      $t = this.msg.data.obj;
      return $$._($t);
    });
    this.def(new OnAttempt(Achieve, null, _hello, null), function*() {
      yield this.call(null, _say, "Hello World");
      return (yield this.call(null, _say, "Goodbye World"));
    });
    return this.perform(null, _hello, null);
  });

  describe('Task', function() {
    $$.tap();
    return describe('@call', function() {
      return it('should work', function() {
        return runner_().run(t1);
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsbFN5bmMuanMiLCJzb3VyY2VzIjpbImNhbGxTeW5jLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsTUFBQSxHQUFTLE9BQUEsQ0FBUSxNQUFSLENBQWUsQ0FBQzs7RUFDekIsQ0FBQSxDQUFDLEVBQUQsRUFBSyxLQUFMLEVBQVksT0FBWixDQUFBLEdBQXVCLE9BQUEsQ0FBUSxVQUFSLENBQXZCOztFQUNBLEVBQUEsR0FBSyxLQUFBLENBQU0sTUFBTjs7RUFDTCxDQUFBLENBQUMsSUFBRCxFQUFPLE9BQVAsRUFBZ0IsTUFBaEIsRUFBd0IsT0FBeEIsRUFBaUMsT0FBakMsRUFBMEMsT0FBMUMsRUFBbUQsT0FBbkQsQ0FBQSxHQUE4RCxPQUE5RDs7RUFDQSxDQUFBLENBQUMsRUFBRCxFQUFLLEVBQUwsRUFBUyxPQUFULEVBQWtCLE9BQWxCLEVBQTJCLE9BQTNCLEVBQW9DLE1BQXBDLEVBQTRDLElBQTVDLEVBQWtELE9BQWxELEVBQTJELFFBQTNELEVBQXFFLFNBQXJFLEVBQWdGLFNBQWhGLEVBQTJGLE1BQTNGLEVBQW1HLE1BQW5HLENBQUEsR0FBNkcsT0FBN0c7O0VBRUEsQ0FBQSxDQUFFLE1BQUYsRUFBVSxJQUFWLENBQUEsR0FBbUIsRUFBQSxDQUFHLENBQUUsT0FBRixFQUFXLEtBQVgsQ0FBSCxDQUFuQjs7RUFFQSxFQUFBLEdBQUssT0FBQSxDQUFRLFFBQUEsQ0FBQSxDQUFBO0lBRVgsSUFBQyxDQUFBLEdBQUQsQ0FBSyxJQUFJLFNBQUosQ0FBYyxPQUFkLEVBQXVCLElBQXZCLEVBQTZCLElBQTdCLEVBQW1DLEVBQW5DLENBQUwsRUFBNkMsUUFBQSxDQUFBLENBQUE7QUFDM0MsVUFBQTtNQUFBLEVBQUEsR0FBSyxJQUFDLENBQUEsR0FBRyxDQUFDLElBQUksQ0FBQzthQUNmLEVBQUUsQ0FBQyxDQUFILENBQUssRUFBTDtJQUYyQyxDQUE3QztJQUlBLElBQUMsQ0FBQSxHQUFELENBQUssSUFBSSxTQUFKLENBQWMsT0FBZCxFQUF1QixJQUF2QixFQUE2QixNQUE3QixFQUFxQyxJQUFyQyxDQUFMLEVBQWlELFNBQUEsQ0FBQSxDQUFBO01BQy9DLE1BQU0sSUFBQyxDQUFBLElBQUQsQ0FBTSxJQUFOLEVBQVksSUFBWixFQUFrQixhQUFsQjthQUNOLENBQUEsTUFBTSxJQUFDLENBQUEsSUFBRCxDQUFNLElBQU4sRUFBWSxJQUFaLEVBQWtCLGVBQWxCLENBQU47SUFGK0MsQ0FBakQ7V0FJQSxJQUFDLENBQUEsT0FBRCxDQUFTLElBQVQsRUFBZSxNQUFmLEVBQXVCLElBQXZCO0VBVlcsQ0FBUjs7RUFZTCxRQUFBLENBQVMsTUFBVCxFQUFpQixRQUFBLENBQUEsQ0FBQTtJQUNmLEVBQUUsQ0FBQyxHQUFILENBQUE7V0FDQSxRQUFBLENBQVMsT0FBVCxFQUFrQixRQUFBLENBQUEsQ0FBQTthQUNoQixFQUFBLENBQUcsYUFBSCxFQUFrQixRQUFBLENBQUEsQ0FBQTtlQUNoQixPQUFBLENBQUEsQ0FBUyxDQUFDLEdBQVYsQ0FBYyxFQUFkO01BRGdCLENBQWxCO0lBRGdCLENBQWxCO0VBRmUsQ0FBakI7QUFwQkEiLCJzb3VyY2VzQ29udGVudCI6WyJhc3NlcnQgPSByZXF1aXJlKCdjaGFpJykuYXNzZXJ0XG57JCQsIHVuaXRfLCBydW50aW1lfSA9IHJlcXVpcmUoJy4vY29tbW9uJylcbiQkID0gdW5pdF8gbW9kdWxlXG57VGVybSwgQ29udGV4dCwgQXNzZXJ0LCBSZXRyYWN0LCBCZWxpZXZlLCBBdHRlbXB0LCBBY2hpZXZlfSA9IHJ1bnRpbWVcbnskXywgX18sIHJ1bm5lcl8sIG1vZHVsZV8sIE1lc3NhZ2UsIFBvbGljeSwgUnVsZSwgVHJpZ2dlciwgT25Bc3NlcnQsIE9uUmV0cmFjdCwgT25BdHRlbXB0LCBSdW5uZXIsIE1ldGhvZH0gPSBydW50aW1lXG5cbnsgX2hlbGxvLCBfc2F5IH0gPSAkXyBbICdoZWxsbycsICdzYXknIF1cblxudDEgPSBtb2R1bGVfIC0+XG5cbiAgQGRlZiBuZXcgT25BdHRlbXB0KEFjaGlldmUsIG51bGwsIF9zYXksIF9fKSwgLT5cbiAgICAkdCA9IEBtc2cuZGF0YS5vYmpcbiAgICAkJC5fICR0XG5cbiAgQGRlZiBuZXcgT25BdHRlbXB0KEFjaGlldmUsIG51bGwsIF9oZWxsbywgbnVsbCksIC0+XG4gICAgeWllbGQgQGNhbGwobnVsbCwgX3NheSwgXCJIZWxsbyBXb3JsZFwiKVxuICAgIHlpZWxkIEBjYWxsKG51bGwsIF9zYXksIFwiR29vZGJ5ZSBXb3JsZFwiKVxuXG4gIEBwZXJmb3JtKG51bGwsIF9oZWxsbywgbnVsbClcblxuZGVzY3JpYmUgJ1Rhc2snLCAtPlxuICAkJC50YXAoKVxuICBkZXNjcmliZSAnQGNhbGwnLCAtPlxuICAgIGl0ICdzaG91bGQgd29yaycsIC0+XG4gICAgICBydW5uZXJfKCkucnVuIHQxXG4iXX0=
